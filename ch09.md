# H.264 性能

## 9.1 引言

H.264/AVC 被广泛采用的背后驱动力是，它比旧格式（如 MPEG-2 和 MPEG-4）具有更加显著的压缩性能。然而，从 H.264 编解码器中获取最佳性能，并不是一项简单的任务。首先，尽管 H.264/AVC 是一个行业标准，但 H.264 编解码的实际实现之间存在很大的差异，编码性能也有相应的变换。其次，H.264 支持的大量编码选项在压缩和计算之间会有一个权衡问题。从 H.264 编解码器获得最佳可能的压缩性能，可能导致实际应用会产生高昂的计算成本。

要了解 H.264/AVC 的性能权衡和功能，最好的方法可能就是做实验。幸运的是，有许多公共域实现使者成为可能。负责开发和维护标准的联合视频开发组发布了H.264/AVC（联合模型（JM）编解码器）的参考软件实现。JM 的目标是全面、准确地实现H.264的所有功能。它不适合于实际的实时编码应用，但却是测试H.264潜力和检查编解码器与位流之间互操作性的有用参考工具。使用JM和/或其他H.264实现，可以对视频序列进行编码和解码，并测试标准的各种工具和特性的效果。

H.264 的大多数应用都对编码序列的比特率有严格的限制。例如，广播频道具有以bps为单位的固定容量；网络流媒体可以处理可变比特率，但也仅限于上限和下限内；视频通话这样的会话应用需要最小的端延迟；等等。基于这些原因，H.264的实际实现通常需要码率控制算法来将编码比特率限制在一定的限制内。

从 H.264/AVC 编解码器获得最佳性能，通常涉及为每个视频流里的每个编码单元，选择最佳编码选项或者编码模式。模式选择过程对于获得良好的压缩性能至关重要。也是因为这个原因，关于（a）有效的模式选择--意味着良好的率失真性能，和（b）计算复杂度的之间，再寻找两者的平衡方面，已经有大量的研究。

## 9.2 H.264 实验

### 9.2.1 JM 参考软件

#### 9.2.1.1 概述

联合视频团队（JVT）是负责研发和维护 H.264/AVC 的组织，它发布了标准的一个参考实现，全部实现使用 C 程序，成为联合模型(JM)。在撰写本文时，最新版本(16.0) 可从[JM](http://iphome.hhi.de/suehring/tml/)下载。较久版本的软件发布为 ITU-T 标准 H.264。JM 软件手册详细描述了软件的操作和参数。JM 中许多编码算法的详细描述可以在 2005 年发布的 JVT 文档中找到。

JM 软件由一个编码器(lencod)和一个解码器(ldecod)组成，前者将源视频文件编码为 H.264 文件，后者将 H.264 文件解码为解码的视频文件。编码器和解码器分别由一个默认名称为 encoder.cfg 和 decoder.cfg 的参数文件控制。编码器创建重构的视频文件，即解码视频文件的副本，并且可以选择性地生成一个跟踪文件，记录编码序列的每个语法元素(图 9.1)。
